---
import Card from "../components/Card.astro";
import {Debug} from "astro/components";

const response = await fetch("https://kea-alt-del.dk/t7/api/products");
const produkter = await response.json();

---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Astro</title>
  </head>
  <body>
    <h1>Astro</h1>
     <!--   <details>
        <summery>Debugger</summery>
        <Debug {produkter} />
      </details>
     -->
    <main>
   
     { 
     produkter.map((produkt) => {
      return <Card 
      brandname = {produkt.productdisplayname}
      articletype = {produkt.articletype}
      price = {produkt.price}
      />
     })
      }
    </main>
    <style>
      main{
      display:grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap:10px;
  max-width: 1000px;
margin-inline: auto;}
details{
  position:absolute;
}
   
    </style>
  </body>
</html>
